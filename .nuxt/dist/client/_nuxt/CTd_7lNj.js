import{_ as B,a as P}from"./CkkgRTxT.js";import{_ as T,S as N,r as l,P as O,c as u,a as t,T as v,t as n,o as h,p as U,e as M}from"./CPMVF56r.js";const o=i=>(U("data-v-7f9fb389"),i=i(),M(),i),z={class:"bg-gray-400 min-h-screen"},E={class:"bg-gray-200 container mx-auto p-4 py-8"},F={key:0},L=o(()=>t("hr",{class:"my-4 border-t border-gray-400"},null,-1)),R={class:"mt-4 flex flex-col lg:flex-row lg:justify-between items-center"},A={class:"flex-shrink-0 mb-4 lg:mb-0 mx-auto"},H=["src","alt"],V={class:"flex justify-center mt-4"},Y=["disabled"],q=o(()=>t("b",null,"<",-1)),G=[q],J=["disabled"],K=o(()=>t("b",null,">",-1)),Q=[K],W={class:"text-lg w-full lg:w-2/5 lg:mx-10 bg-white rounded-lg shadow-md p-8"},X={class:"font-bold text-2xl",style:{"word-wrap":"break-word"}},Z={class:"text-gray-700 font-bold text-2xl mt-2",style:{"word-wrap":"break-word"}},tt=o(()=>t("hr",{class:"my-4 border-t border-gray-300"},null,-1)),et={class:"flex items-center mt-4"},st=o(()=>t("img",{src:B,alt:"Location",class:"w-4 h-4 mr-1"},null,-1)),ot={class:"text-gray-700"},at={class:"flex items-center mt-1"},nt=o(()=>t("img",{src:P,alt:"Category",class:"w-4 h-4 mr-1"},null,-1)),ct={class:"text-gray-700"},rt={class:"text-purple-900 mt-2"},lt={class:"text-center mt-8"},it=o(()=>t("hr",{class:"my-4 border-t border-gray-300"},null,-1)),dt={class:"text-sm text-gray-500 mt-4"},_t=o(()=>t("hr",{class:"my-4 border-t border-gray-400"},null,-1)),ut={class:"bg-white rounded-lg shadow-md p-4 pt-8 block-size"},ht=o(()=>t("p",{class:"font-bold text-xl text-center"},"Опис",-1)),mt=o(()=>t("hr",{class:"my-4 border-t border-gray-400"},null,-1)),gt={style:{"word-wrap":"break-word"}},pt={key:1},bt=o(()=>t("p",null,"Завантаження даних...",-1)),vt=[bt],yt={__name:"[id]",setup(i){const{id:m}=N().params,s=l(null),g=l(""),d=l([]),a=l(0),y=l(!1),p=l("Показати номер");async function f(){const c="https://buy-sell-api.onrender.com/api/search/ad/"+m;try{const e=await fetch(c);if(e.ok){const r=await e.json();s.value=r,g.value=await x(s.value.dateOfCreated),await w(m,"https://buy-sell-api.onrender.com/api/search/ads-images/")}else console.error("Помилка при отриманні даних")}catch(e){console.error("Помилка при виконанні запиту:",e)}}async function w(c,e){try{e=e+c;const _=await(await fetch(e)).json();for(const b of _){const C="https://buy-sell-api.onrender.com/api/search/image/"+b.id,D=await(await fetch(C)).blob(),S=URL.createObjectURL(D);d.value.push(S)}}catch(r){console.error("Error fetching photo:",r)}}async function x(){const c="2024-04-18T17:18:06.704567",e=new Date(c),r=`${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()}`,_=`${e.getHours()}:${e.getMinutes()}`;return`${r} ${_}`}function k(){a.value=a.value+1}function I(){a.value=a.value-1}function $(){y.value=!0,p.value="+38"+s.value.user.phone}function j(){window.history.back()}return O(()=>{f()}),(c,e)=>(h(),u("div",z,[t("div",{class:"w-full bg-white"},[t("div",{class:"container mx-auto p-4 pt-6"},[t("button",{onClick:j,class:"btn-admin"},"Повернутись назад")])]),t("div",E,[s.value?(h(),u("div",F,[L,t("div",R,[t("div",A,[t("img",{src:d.value[a.value],alt:`Image ${a.value+1}`,class:"thumb"},null,8,H),t("div",V,[t("button",{onClick:I,disabled:a.value===0,class:v([{"opacity-50":a.value===0},"mr-2 p-2 bg-gray-100 rounded dark:bg-gray-800 dark:text-gray-400 w-16"])},G,10,Y),t("button",{onClick:k,disabled:a.value===d.value.length-1,class:v([{"opacity-50":a.value===d.value.length-1},"p-2 bg-gray-100 rounded dark:bg-gray-800 dark:text-gray-400 w-16"])},Q,10,J)])]),t("div",W,[t("p",X,n(s.value.name),1),t("p",Z,n(s.value.price)+" грн",1),tt,t("div",et,[st,t("p",ot,n(s.value.city.name),1)]),t("div",at,[nt,t("p",ct,n(s.value.category.name),1)]),t("p",rt,"Автор: "+n(s.value.user.firstName)+" "+n(s.value.user.lastName),1),t("div",lt,[t("button",{onClick:$,class:"btn-admin rounded mt-2 w-full lg:block"},n(p.value),1),it,t("p",dt,"Дата створення: "+n(g.value),1)])])]),_t,t("div",ut,[ht,mt,t("p",gt,n(s.value.description),1)])])):(h(),u("div",pt,vt))])]))}},kt=T(yt,[["__scopeId","data-v-7f9fb389"]]);export{kt as default};
