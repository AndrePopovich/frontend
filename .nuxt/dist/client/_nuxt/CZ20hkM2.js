import{u as b,r as f,P as v,o as i,c as a,a as s,t as c,Q as x,R as E,n as d}from"./CPMVF56r.js";import{f as u,c as k}from"./o8qONBl5.js";const O={class:"bg-gray-900 min-h-screen flex justify-center p-4"},S={class:"text-2xl font-bold text-center text-white mb-4"},w={key:0,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-5"},U={class:"font-bold"},j={class:"mt-4"},D=["onClick"],T=["onClick"],q={key:1},B={class:"big-center-text text-white"},N={__name:"ListData",props:{apiUrl:{type:String,required:!0},apiUrlEdit:{type:String,required:!0},pathToEdit:{type:String,required:!0},apiUrlDelete:{type:String,required:!0},nameObject:{type:String,required:!0},nameObjectText:{type:String,required:!0}},setup(p){const g=b(),r=p,n=f(null);async function l(){try{const e=await u(r.apiUrl);if(console.log("Отримані дані:",e),e.ok){const t=await e.json();console.log(r.nameObject,t),n.value=t}console.log("RESPONSE: ",n.value)}catch(e){console.error("Помилка завантаження даних:",e)}}const h=async e=>{try{const t=r.apiUrlEdit+e.id,o={id:e.id,name:e.name,apiUrlEdit:t};k(o),g.push(r.pathToEdit)}catch(t){console.error("Помилка при зміні сторінки:",t)}},_=async e=>{try{const t=r.apiUrlDelete+e.id,o={id:e.id};await u(t,{method:"DELETE",body:JSON.stringify(o)}),l()}catch(t){console.error("Помилка при зміні сторінки:",t)}};return v(()=>{l()}),(e,t)=>(i(),a("div",O,[s("div",null,[s("h2",S,c(r.nameObjectText),1),n.value&&n.value.length>0?(i(),a("div",w,[(i(!0),a(x,null,E(n.value,(o,m)=>(i(),a("div",{key:m,class:"bg-white rounded-lg shadow-lg p-6 text-center"},[s("p",U,c(o.name),1),s("div",j,[s("button",{onClick:d(y=>h(o),["prevent"]),class:"orange-button w-full mb-2"},"Редагувати",8,D),s("button",{onClick:d(y=>_(o),["prevent"]),class:"red-button w-full"},"Видалити",8,T)])]))),128))])):(i(),a("div",q,[s("p",B,c(r.nameObjectText)+" не знайдено",1)]))])]))}};export{N as _};
