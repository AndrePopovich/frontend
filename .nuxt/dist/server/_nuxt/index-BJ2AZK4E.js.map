{"version":3,"file":"index-BJ2AZK4E.js","sources":["../../../../pages/profile/user/index.vue"],"sourcesContent":["<template>\n    <div class=\"bg-gray-900 h-screen flex items-center justify-center\">\n        <div class=\"bg-white p-8 rounded-lg shadow-lg mx-auto\">\n            <h1 class=\"text-3xl text-center font-bold mb-4\">Мій профіль</h1>\n            <div v-if=\"profile\" class=\"text-center\">\n                <p class=\"font-semibold\">ID: {{ profile.id }}</p>\n                <p class=\"font-semibold\">Ім'я: {{ profile.firstname }}</p>\n                <p class=\"font-semibold\">Фамілія: {{ profile.lastname }}</p>\n                <p class=\"font-semibold\">Email: {{ profile.email }}</p>\n                <p class=\"font-semibold\">Номер телефону: {{ profile.phone }}</p>\n                <p class=\"font-semibold\">Дата реєстрації: {{ profile.dateOfRegistration }}</p>\n                <div\n                    class=\"flex flex-col md:flex-row items-center md:items-start justify-center md:justify-between pt-2\">\n                    <nuxt-link to=\"/\" class=\"btn-admin mt-4 md:mt-0 md:mr-4\">Головна сторінка</nuxt-link>\n                    <button @click.prevent=\"logout\" class=\"red-button mt-2 md:mt-0\">Вийти з акаунту</button>\n                </div>\n            </div>\n            <div v-else class=\"text-center mt-8\">\n                <p class=\"text-xl font-semibold mb-4\">Ви не ввійшли в профіль</p>\n                <nuxt-link to=\"/auth/\" class=\"btn-admin\">Ввійти</nuxt-link>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n\n\n<script setup>\nimport { useRouter } from 'vue-router'\nimport { ref } from 'vue';\nimport { getProfileFromLocalStorage, isAuthenticated } from '/utils/auth.js';\nimport { onMounted } from 'vue';\n\nconst profile = ref(null);\nconst router = useRouter();\n\nasync function loadData() {\n    const fetchedProfile = getProfileFromLocalStorage();\n    if (fetchedProfile) {\n        profile.value = fetchedProfile;\n    }\n}\n\nasync function logout() {\n    try {\n        await router.push('/auth/');\n        localStorage.removeItem('jwtToken');\n        localStorage.removeItem('profile');\n    } catch (error) {\n        console.error('Помилка при виході:', error);\n    }\n}\n\nonMounted(() => {\n    if (!isAuthenticated()) {\n        router.push('/auth/');\n    }\n    loadData();\n});\n</script>\n\n<style scoped></style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAkCA,UAAM,UAAU,IAAI,IAAI;AACT,cAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}